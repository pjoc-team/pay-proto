{
  "swagger": "2.0",
  "info": {
    "title": "notify.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/notify/out_trade_no/{out_trade_no}": {
      "put": {
        "operationId": "Notify",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/payNotifyResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "out_trade_no",
            "description": "out_trade_no 业务订单号",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/payNotifyRequest"
            }
          }
        ],
        "tags": [
          "Notifier"
        ]
      }
    }
  },
  "definitions": {
    "NotifyResponseNotifyStatus": {
      "type": "string",
      "enum": [
        "STATUS_UNKNOWN",
        "STATUS_FAILED",
        "STATUS_SUCCESS"
      ],
      "default": "STATUS_UNKNOWN",
      "title": "- STATUS_UNKNOWN: STATUS_UNKNOWN bad status\n - STATUS_FAILED: STATUS_FAILED failed to process notify\n - STATUS_SUCCESS: STATUS_SUCCESS succeed to process notify"
    },
    "payNotifyRequest": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string",
          "title": "version api version"
        },
        "out_trade_no": {
          "type": "string",
          "title": "out_trade_no 业务订单号"
        },
        "pay_amount": {
          "type": "integer",
          "format": "int64",
          "title": "pay_amount 支付金额（分）"
        },
        "currency": {
          "type": "string",
          "title": "Currency 币种"
        },
        "return_url": {
          "type": "string",
          "title": "return_url 支付后跳转的前端地址"
        },
        "app_id": {
          "type": "string",
          "title": "app_id 系统给商户分配的app_id"
        },
        "sign_type": {
          "type": "string",
          "title": "sign_type 加密方法，RSA和MD5，默认RSA"
        },
        "sign": {
          "type": "string",
          "title": "sign 签名"
        },
        "order_time": {
          "type": "string",
          "title": "order_time 业务方下单时间，时间格式: 年年年年-月月-日日 时时:分分:秒秒，例如: 2006-01-02 15:04:05"
        },
        "user_ip": {
          "type": "string",
          "title": "user_ip 发起支付的用户ip"
        },
        "user_id": {
          "type": "string",
          "title": "user_id 用户在业务系统的id"
        },
        "payer_account": {
          "type": "string",
          "title": "payer_account 支付者账号，可选"
        },
        "product_id": {
          "type": "string",
          "title": "product_id 业务系统的产品id"
        },
        "product_name": {
          "type": "string",
          "title": "product_name 商品名称"
        },
        "product_describe": {
          "type": "string",
          "title": "product_describe 商品描述"
        },
        "charset": {
          "type": "string",
          "title": "charset 参数编码，只允许utf-8编码；签名时一定要使用该编码获取字节然后再进行签名"
        },
        "callback_json": {
          "type": "string",
          "title": "callback_json 回调业务系统时需要带上的字符串"
        },
        "ext_json": {
          "type": "string",
          "title": "ext_json 扩展json"
        },
        "channel_id": {
          "type": "string",
          "title": "channel_id 渠道id（非必须），如果未指定method，系统会根据method来找到可用的channel_id"
        },
        "method": {
          "type": "string",
          "title": "method 例如：二维码支付，银联支付等。"
        },
        "fact_amt": {
          "type": "integer",
          "format": "int64",
          "title": "fact_amt 实际金额"
        },
        "fare_amt": {
          "type": "integer",
          "format": "int64",
          "title": "fare_amt 手续费"
        }
      },
      "title": "NotifyRequest notify to biz"
    },
    "payNotifyResponse": {
      "type": "object",
      "properties": {
        "status": {
          "$ref": "#/definitions/NotifyResponseNotifyStatus",
          "title": "status notify status"
        }
      },
      "title": "NotifyResponse response of biz"
    }
  }
}
